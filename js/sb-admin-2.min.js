/*!
 * Start Bootstrap - SB Admin 2 v4.1.3 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

function getTime(){var e,o,t=document.getElementById("time").value.split(":");return 12<(e=t[0])?(o="PM",e-=12):e<12?(o="AM",0==e&&(e=12)):o="PM",e+":"+t[1]+" "+o}!function(s){"use strict";s("#sidebarToggle, #sidebarToggleTop").on("click",function(e){s("body").toggleClass("sidebar-toggled"),s(".sidebar").toggleClass("toggled"),s(".sidebar").hasClass("toggled")&&s(".sidebar .collapse").collapse("hide")}),s(window).resize(function(){s(window).width()<768&&s(".sidebar .collapse").collapse("hide"),s(window).width()<480&&!s(".sidebar").hasClass("toggled")&&(s("body").addClass("sidebar-toggled"),s(".sidebar").addClass("toggled"),s(".sidebar .collapse").collapse("hide"))}),s("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(e){if(768<s(window).width()){var o=e.originalEvent,t=o.wheelDelta||-o.detail;this.scrollTop+=30*(t<0?1:-1),e.preventDefault()}}),s(document).on("scroll",function(){100<s(this).scrollTop()?s(".scroll-to-top").fadeIn():s(".scroll-to-top").fadeOut()}),s(document).on("click","a.scroll-to-top",function(e){var o=s(this);s("html, body").stop().animate({scrollTop:s(o.attr("href")).offset().top},1e3,"easeInOutExpo"),e.preventDefault()}),s("form#loginForm").submit(function(){var e=s("#username").val(),o=s("#password").val();return s.ajax({type:"POST",url:"http://localhost:8080/login",data:JSON.stringify({username:e,password:o}),contentType:"application/json",success:function(e,o,t){console.log(e),localStorage.setItem("user",e.patientId),window.location="index.html?user="+e.patientId},error:function(e,o,t){console.log("error"),s("#errorMessage").removeClass("d-none")}}),!1}),s("form#addReading").submit(function(){var e=s("#reading").val(),o=getTime(),t=localStorage.getItem("user"),l=null===s("#description1").val()?s("#description2").val():s("#description1").val();return console.log(JSON.stringify({reading:e,time:o,patientId:t,description:l})),s.ajax({type:"POST",url:"http://localhost:8080/observation",data:JSON.stringify({patientId:t,description:l,reading:e,time:o}),contentType:"application/json",success:function(e,o,t){console.log(e)},error:function(e,o,t){console.log("error")}}),!1})}(jQuery);